var Ball=pc.createScript("ball");Ball.attributes.add("speed",{type:"number",default:.05,min:.05,max:.5}),Ball.prototype.initialize=function(){this.torque=7,this.allowJump=!0,this.entity.collision.on("collisionstart",this.onCollisionStart,this)},Ball.prototype.update=function(i){this.playerPos=this.entity.getLocalPosition();var t=this.app;t.keyboard.isPressed(pc.KEY_UP)&&this.entity.rigidbody.applyImpulse(this.speed,0,0),t.keyboard.isPressed(pc.KEY_DOWN)&&this.entity.rigidbody.applyImpulse(-this.speed,0,0),t.keyboard.isPressed(pc.KEY_LEFT)&&this.entity.rigidbody.applyImpulse(0,0,-this.speed),t.keyboard.isPressed(pc.KEY_RIGHT)&&this.entity.rigidbody.applyImpulse(0,0,this.speed),t.keyboard.isPressed(pc.KEY_SPACE)&&this.allowJump&&(this.entity.rigidbody.applyImpulse(0,2,0),this.allowJump=!1),t.keyboard.wasPressed(pc.KEY_R)&&this.reset()},Ball.prototype.reset=function(){this.entity.rigidbody.teleport(0,5,0),this.entity.rigidbody.linearVelocity=pc.Vec3.ZERO,this.entity.rigidbody.angularVelocity=pc.Vec3.ZERO},Ball.prototype.onCollisionStart=function(i){i.other.rigidbody&&(this.allowJump=!0)};var Follow=pc.createScript("follow");Follow.attributes.add("target",{type:"string"}),Follow.attributes.add("distance",{type:"number",default:10}),Follow.prototype.initialize=function(){this.target=this.app.root.findByName(this.target)||null,this.vec=new pc.Vec3},Follow.prototype.update=function(t){if(this.target){this.app.mouse.isPressed(pc.KEY_S)&&this.vec.copy(this.target.getPosition());var i=this.target.getPosition();i.x+=-10*this.distance,i.y+=5*this.distance,i.z+=0,this.vec.lerp(this.vec,i,.1),this.entity.setPosition(this.vec)}};